import"dns";function Springify(){for(var i=this,t=[],a=arguments.length;a--;)t[a]=arguments[a];this.animating=!1;var n,p,e,o,m=0,s=10,u=30,r=20,c={output:0,velocity:0,amplitude:0},f=[],l=function(i,t,a){return i*(a-t)/100+t};t.map(function(t){void 0!==t.propName?(i[t.propName]=Object.assign({},c),i[t.propName].stiffness=t.input||m,i[t.propName].stiffness=t.stiffness||s,i[t.propName].damping=t.damping||u,i[t.propName].mass=t.mass||r,i[t.propName].input=t.input||m,i[t.propName].output=i[t.propName].input,f.push(i[t.propName])):i.callback=t});var g=function(){var t;p=Date.now(),i.animating||(n=p-1),e=p-n,n=p,i.animating=!0,f.forEach(function(i){var t,a,n,p,o,m;a=l((t=i).stiffness,-1,-300),n=l(t.damping,-.4,-20),p=l(t.mass,.1,10),o=a*(t.output-t.input),m=n*t.velocity,t.amplitude=(o+m)/p,t.velocity+=t.amplitude*(e/1e3),t.output+=t.velocity*(e/1e3)}),(t=i).callback.apply(t,f),f.every(function(i){return Math.abs(i.velocity)<.5&&Math.abs(i.output-i.input)<.5})?(i.animating=!1,console.log("finished spring animation")):(cancelAnimationFrame(o),o=requestAnimationFrame(g))};this.animate=function(){i.animating||g()}}export default Springify;