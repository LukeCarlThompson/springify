function Springify(){for(var a=this,t=[],i=arguments.length;i--;)t[i]=arguments[i];this.animating=!1;var n,p,e,o,m=0,s=10,u=30,r=20,c={output:0,velocity:0,amplitude:0},f=[],l=function(a,t,i){return a*(i-t)/100+t};t.map(function(t){void 0!==t.propName?(a[t.propName]=Object.assign({},c),a[t.propName].stiffness=t.input||m,a[t.propName].stiffness=t.stiffness||s,a[t.propName].damping=t.damping||u,a[t.propName].mass=t.mass||r,a[t.propName].input=t.input||m,a[t.propName].output=a[t.propName].input,f.push(a[t.propName])):a.callback=t});this.animate=function(){var t;p=Date.now(),a.animating||(n=p-1),e=p-n,n=p,a.animating=!0,f.forEach(function(a){var t,i,n,p,o,m;i=l((t=a).stiffness,-1,-300),n=l(t.damping,-.4,-20),p=l(t.mass,.1,10),o=i*(t.output-t.input),m=n*t.velocity,t.amplitude=(o+m)/p,t.velocity+=t.amplitude*(e/1e3),t.output+=t.velocity*(e/1e3)}),(t=a).callback.apply(t,f),f.every(function(a){return Math.abs(a.velocity)<.5&&Math.abs(a.output-a.input)<.5})?(a.animating=!1,console.log("finished spring animation")):(cancelAnimationFrame(o),o=requestAnimationFrame(a.animate))}}export default Springify;