function Springify(){for(var a=this,i=[],t=arguments.length;t--;)i[t]=arguments[t];this.animating=!1;var n,p,e,o,m=0,u=10,s=30,r=20,c={output:0,velocity:0,amplitude:0},f=[],l=function(a,i,t){return a*(t-i)/100+i};i.map(function(i){void 0!==i.propName?(a[i.propName]=Object.assign({},c),a[i.propName].stiffness=i.input||m,a[i.propName].stiffness=i.stiffness||u,a[i.propName].damping=i.damping||s,a[i.propName].mass=i.mass||r,a[i.propName].input=i.input||m,a[i.propName].output=a[i.propName].input,f.push(a[i.propName])):a.callback=i});var g=function(){var i;p=Date.now(),a.animating||(n=p-1),e=p-n,n=p,a.animating=!0,f.forEach(function(a){var i,t,n,p,o,m;t=l((i=a).stiffness,-1,-300),n=l(i.damping,-.4,-20),p=l(i.mass,.1,10),o=t*(i.output-i.input),m=n*i.velocity,i.amplitude=(o+m)/p,i.velocity+=i.amplitude*(e/1e3),i.output+=i.velocity*(e/1e3)}),(i=a).callback.apply(i,f),f.every(function(a){return Math.abs(a.velocity)<.5&&Math.abs(a.output-a.input)<.5})?(a.animating=!1,console.log("finished spring animation")):(cancelAnimationFrame(o),o=requestAnimationFrame(g))};this.animate=function(){a.animating||g()}}export default Springify;