function Springify(){for(var a=this,i=[],t=arguments.length;t--;)i[t]=arguments[t];this.animating=!1;var n,e,p,o,m=10,s=30,u=20,r={input:0,output:0,velocity:0,amplitude:0},c=[],f=function(a,i,t){return a*(t-i)/100+i};i.map(function(i){void 0!==i.propName?(a[i.propName]=Object.assign({},r),a[i.propName].stiffness=i.stiffness||m,a[i.propName].damping=i.damping||s,a[i.propName].mass=i.mass||u,c.push(a[i.propName])):a.callback=i});this.animate=function(){var i;e=Date.now(),a.animating||(n=e-1),p=e-n,n=e,a.animating=!0,c.forEach(function(a){var i,t,n,e,o,m;t=f((i=a).stiffness,-1,-300),n=f(i.damping,-.4,-20),e=f(i.mass,.1,10),o=t*(i.output-i.input),m=n*i.velocity,i.amplitude=(o+m)/e,i.velocity+=i.amplitude*(p/1e3),i.output+=i.velocity*(p/1e3)}),(i=a).callback.apply(i,c),c.every(function(a){return Math.abs(a.velocity)<.5&&Math.abs(a.output-a.input)<.5})?(a.animating=!1,console.log("finished spring animation")):(cancelAnimationFrame(o),o=requestAnimationFrame(a.animate))}}export default Springify;