!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define("libtemplate",i):(t=t||self).libtemplate=i()}(this,function(){"use strict";return function(t){var i=this;void 0===t&&(t={});var n=t.x;void 0===n&&(n={stiffness:-5,damping:-.97});var e=t.y;void 0===e&&(e={stiffness:-5,damping:-.97});var a,s=t.callback;void 0===s&&(s=function(){}),this.x={stiffness:n.stiffness,damping:n.damping,input:0,output:0,velocity:0,amplitude:0,mass:.2},this.y={stiffness:e.stiffness,damping:e.damping,input:0,output:0,velocity:0,amplitude:0,mass:.2},this.animating=!1,this.animate=function(){var t=Date.now();i.animating||(a=t-1);var n=t-a;a=t,i.animating=!0;var e=i.x.stiffness*(i.x.output-i.x.input),u=i.x.damping*i.x.velocity;i.x.amplitude=(e+u)/i.x.mass,i.x.velocity+=i.x.amplitude*(n/1e3),i.x.output+=i.x.velocity*(n/1e3);var o=i.y.stiffness*(i.y.output-i.y.input),p=i.y.damping*i.y.velocity;i.y.amplitude=(o+p)/i.y.mass,i.y.velocity+=i.y.amplitude*(n/1e3),i.y.output+=i.y.velocity*(n/1e3),s(i.x,i.y),Math.abs(i.x.velocity)<.5&&Math.abs(i.x.output-i.x.input)<.5&&Math.abs(i.y.velocity)<.5&&Math.abs(i.y.output-i.y.input)<.5?(i.animating=!1,i.x.output=i.x.input,i.y.output=i.y.input,console.log("finished spring animation")):requestAnimationFrame(i.animate)}}});